<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ludo da Capta√ß√£o - Jogo Interativo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .board-path {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .step-card {
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        
        .step-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .step-card.active {
            transform: scale(1.05);
            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.3);
        }
        
        .dice {
            animation: roll 0.5s ease-in-out;
        }
        
        @keyframes roll {
            0% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
            100% { transform: rotate(360deg); }
        }
        
        .player-piece {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            position: absolute;
            top: 8px;
            right: 8px;
            border: 2px solid white;
            z-index: 10;
        }
        
        .modal {
            backdrop-filter: blur(10px);
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
        
        @keyframes float-up {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -70%) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -90%) scale(0.8);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <div class="bg-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <h1 class="text-4xl font-bold text-center text-indigo-800">üéØ LUDO DA CAPTA√á√ÉO</h1>
            <p class="text-center text-gray-600 mt-2">Um jogo para engajar sua equipe na arte de captar recursos!</p>
            <div class="text-center mt-3">
                <p class="text-sm text-gray-500">
                    Criado por: <span class="font-semibold text-indigo-600">Alberis Santos (A&F Mobiliza)</span>
                </p>
            </div>
        </div>
    </div>

    <!-- Game Controls -->
    <div class="container mx-auto px-4 py-6">
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <!-- Score and Badges Section -->
            <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-4 mb-4">
                <div class="flex flex-wrap items-center justify-between gap-4">
                    <div class="flex items-center gap-6">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-purple-600" id="totalScore">0</div>
                            <div class="text-xs text-gray-600">Pontos</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-blue-600" id="badgeCount">0</div>
                            <div class="text-xs text-gray-600">Badges</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-green-600" id="challengesCompleted">0</div>
                            <div class="text-xs text-gray-600">Desafios</div>
                        </div>
                    </div>
                    <div id="latestBadge" class="text-2xl opacity-0 transition-opacity duration-500"></div>
                </div>
                
                <!-- Badges Display -->
                <div class="mt-3">
                    <div class="text-xs text-gray-600 mb-2">Conquistas Desbloqueadas:</div>
                    <div id="badgesContainer" class="flex flex-wrap gap-2">
                        <!-- Badges will be added here dynamically -->
                    </div>
                </div>
            </div>

            <div class="flex flex-wrap items-center justify-between gap-4">
                <div class="flex items-center gap-4">
                    <button id="rollDice" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                        üé≤ Rolar Dado
                    </button>
                    <div id="diceResult" class="text-2xl font-bold text-indigo-800"></div>
                </div>
                
                <div class="flex items-center gap-4">
                    <div class="text-sm text-gray-600">
                        <span class="font-semibold">Posi√ß√£o Atual:</span>
                        <span id="currentPosition" class="text-indigo-600 font-bold">START</span>
                    </div>
                    <button id="resetGame" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm">
                        üîÑ Reiniciar
                    </button>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="mt-4">
                <div class="bg-gray-200 rounded-full h-3">
                    <div id="progressBar" class="progress-bar bg-gradient-to-r from-indigo-500 to-purple-600 h-3 rounded-full" style="width: 0%"></div>
                </div>
                <p class="text-xs text-gray-500 mt-1 text-center">Progresso no jogo</p>
            </div>
        </div>

        <!-- Game Board -->
        <div class="board-path">
            <!-- START -->
            <div class="step-card bg-gradient-to-br from-green-400 to-green-600 text-white p-4 rounded-xl shadow-lg col-span-4" data-step="0">
                <div class="text-center">
                    <div class="text-3xl mb-2">üèÅ</div>
                    <h3 class="font-bold text-lg">START</h3>
                    <p class="text-sm opacity-90">Onde tudo come√ßa!</p>
                </div>
            </div>

            <!-- Steps 1-11 -->
            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-blue-500" data-step="1">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">1Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">APRESENTA√á√ÉO DA ONG</h4>
                <p class="text-xs text-gray-600">Como contar nossa hist√≥ria e miss√£o?</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-purple-500" data-step="2">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">2Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">DIAGN√ìSTICO INTERNO</h4>
                <p class="text-xs text-gray-600">Quais s√£o nossos pontos fortes e fracos?</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-pink-500" data-step="3">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">3Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">BENCHMARKING</h4>
                <p class="text-xs text-gray-600">O que outras organiza√ß√µes fazem?</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-red-500" data-step="4">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">4Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">CEN√ÅRIO EXTERNO</h4>
                <p class="text-xs text-gray-600">Fatores externos que impactam</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-orange-500" data-step="5">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">5Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">AN√ÅLISE FOFA</h4>
                <p class="text-xs text-gray-600">For√ßas, Oportunidades, Fragilidades, Amea√ßas</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-yellow-500" data-step="6">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">6Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">OBJETIVOS</h4>
                <p class="text-xs text-gray-600">Por que e para que captar?</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-green-500" data-step="7">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">7Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">METAS</h4>
                <p class="text-xs text-gray-600">Defina n√∫meros: Ex: +20%!</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-teal-500" data-step="8">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">8Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">FONTES</h4>
                <p class="text-xs text-gray-600">F√≠sica, Jur√≠dica, Governo, Internacional</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-cyan-500" data-step="9">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">9Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">ESTRAT√âGIAS</h4>
                <p class="text-xs text-gray-600">Eventos, editais, campanhas...</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-indigo-500" data-step="10">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">üîü</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">PLANO OPERACIONAL</h4>
                <p class="text-xs text-gray-600">Quem, quando, como?</p>
            </div>

            <div class="step-card bg-white p-4 rounded-xl shadow-lg border-l-4 border-violet-500" data-step="11">
                <div class="player-piece bg-blue-500" style="display: none;"></div>
                <div class="text-2xl mb-2">1Ô∏è‚É£1Ô∏è‚É£</div>
                <h4 class="font-semibold text-sm text-gray-800 mb-1">ACOMPANHAMENTO</h4>
                <p class="text-xs text-gray-600">Avalia√ß√£o e ajustes</p>
            </div>

            <!-- FINISH -->
            <div class="step-card bg-gradient-to-br from-yellow-400 to-orange-500 text-white p-4 rounded-xl shadow-lg col-span-4" data-step="12">
                <div class="text-center">
                    <div class="text-3xl mb-2">üèÜ</div>
                    <h3 class="font-bold text-lg">RECURSO CAPTADO!</h3>
                    <p class="text-sm opacity-90">Parab√©ns! Voc√™ dominou o processo! üéâ</p>
                </div>
            </div>
        </div>

        <!-- Tools and Resources Section -->
        <div class="bg-white rounded-xl shadow-lg p-6 mt-6">
            <h2 class="text-2xl font-bold text-indigo-800 mb-4 text-center">üõ†Ô∏è FERRAMENTAS √öTEIS PARA SUA CAPTA√á√ÉO</h2>
            <p class="text-gray-600 text-center mb-6">Links e recursos para ajudar sua ONG a criar um plano de capta√ß√£o eficiente</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Planning Tools -->
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-800 mb-2">üìã PLANEJAMENTO</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="https://www.canva.com" target="_blank" class="text-blue-600 hover:underline">‚Ä¢ Canva - Design e templates</a></li>
                        <li><a href="https://trello.com" target="_blank" class="text-blue-600 hover:underline">‚Ä¢ Trello - Organiza√ß√£o de tarefas</a></li>
                        <li><a href="https://www.notion.so" target="_blank" class="text-blue-600 hover:underline">‚Ä¢ Notion - Gest√£o de projetos</a></li>
                        <li><a href="https://miro.com" target="_blank" class="text-blue-600 hover:underline">‚Ä¢ Miro - Matriz FOFA visual</a></li>
                    </ul>
                </div>

                <!-- Research Tools -->
                <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-lg">
                    <h3 class="font-semibold text-green-800 mb-2">üîç PESQUISA</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="https://www.prosas.com.br" target="_blank" class="text-green-600 hover:underline">‚Ä¢ Prosas - Editais e oportunidades</a></li>
                        <li><a href="https://capta.org.br/fontes-de-financiamento/oportunidades/" target="_blank" class="text-green-600 hover:underline">‚Ä¢ Capta - Fontes de financiamento</a></li>
                        <li><a href="https://www.abong.org.br" target="_blank" class="text-green-600 hover:underline">‚Ä¢ ABONG - Associa√ß√£o ONGs</a></li>
                        <li><a href="https://www.gife.org.br" target="_blank" class="text-green-600 hover:underline">‚Ä¢ GIFE - Investimento Social</a></li>
                        <li><a href="https://www.idis.org.br" target="_blank" class="text-green-600 hover:underline">‚Ä¢ IDIS - Instituto para Desenvolvimento</a></li>
                    </ul>
                </div>

                <!-- Communication Tools -->
                <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-lg">
                    <h3 class="font-semibold text-purple-800 mb-2">üì¢ COMUNICA√á√ÉO</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="https://www.canva.com" target="_blank" class="text-purple-600 hover:underline">‚Ä¢ Canva - Design gr√°fico</a></li>
                        <li><a href="https://mailchimp.com" target="_blank" class="text-purple-600 hover:underline">‚Ä¢ Mailchimp - Email marketing</a></li>
                        <li><a href="https://buffer.com" target="_blank" class="text-purple-600 hover:underline">‚Ä¢ Buffer - Gest√£o redes sociais</a></li>
                        <li><a href="https://www.depropositocomunica.com/" target="_blank" class="text-purple-600 hover:underline">‚Ä¢ DeProp√≥sito - Comunica√ß√£o de causas</a></li>
                    </ul>
                </div>

                <!-- Financial Tools -->
                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-lg">
                    <h3 class="font-semibold text-yellow-800 mb-2">üí∞ FINANCEIRO</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="https://www.sympla.com.br" target="_blank" class="text-yellow-600 hover:underline">‚Ä¢ Sympla - Eventos e vendas</a></li>
                        <li><a href="https://www.kickante.com.br" target="_blank" class="text-yellow-600 hover:underline">‚Ä¢ Kickante - Crowdfunding</a></li>
                        <li><a href="https://www.vakinha.com.br" target="_blank" class="text-yellow-600 hover:underline">‚Ä¢ Vakinha - Arrecada√ß√£o online</a></li>
                        <li><a href="https://pagseguro.uol.com.br" target="_blank" class="text-yellow-600 hover:underline">‚Ä¢ PagSeguro - Pagamentos</a></li>
                    </ul>
                </div>

                <!-- Legal Tools -->
                <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-lg">
                    <h3 class="font-semibold text-red-800 mb-2">‚öñÔ∏è JUR√çDICO</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="https://www.gov.br/receitafederal/pt-br" target="_blank" class="text-red-600 hover:underline">‚Ä¢ Receita Federal</a></li>
                        <li><a href="https://www.institutofilantropia.org.br" target="_blank" class="text-red-600 hover:underline">‚Ä¢ Instituto Filantropia</a></li>
                        <li><a href="https://www.idis.org.br" target="_blank" class="text-red-600 hover:underline">‚Ä¢ IDIS - Marco Legal</a></li>
                    </ul>
                </div>

                <!-- Learning Resources -->
                <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-lg">
                    <h3 class="font-semibold text-indigo-800 mb-2">üìö CAPACITA√á√ÉO</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="https://www.escolaaberta3setor.org.br" target="_blank" class="text-indigo-600 hover:underline">‚Ä¢ Escola Aberta 3¬∫ Setor</a></li>
                        <li><a href="https://www.coursera.org" target="_blank" class="text-indigo-600 hover:underline">‚Ä¢ Coursera - Cursos online</a></li>
                        <li><a href="https://www.udemy.com" target="_blank" class="text-indigo-600 hover:underline">‚Ä¢ Udemy - Capacita√ß√£o</a></li>
                    </ul>
                </div>
            </div>

            <!-- Special Section for A&F Mobiliza -->
            <div class="bg-gradient-to-r from-indigo-100 to-purple-100 border-2 border-indigo-300 rounded-lg p-6 mt-6">
                <div class="text-center">
                    <h3 class="text-xl font-bold text-indigo-800 mb-2">üéØ CONSULTORIA ESPECIALIZADA</h3>
                    <p class="text-gray-700 mb-4">Precisa de ajuda personalizada para sua estrat√©gia de capta√ß√£o?</p>
                    <div class="flex flex-wrap justify-center gap-4">
                        <a href="mailto:captacao@afmobiliza.com.br" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                            üìß Contatar A&F Mobiliza
                        </a>
                        <a href="https://wa.me/" target="_blank" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                            üì± WhatsApp
                        </a>
                    </div>
                    <p class="text-sm text-gray-600 mt-3">
                        <strong>Alberis Santos</strong> - Especialista em Capta√ß√£o de Recursos para ONGs
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Step Details -->
    <div id="stepModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-6 m-4 max-w-lg w-full max-h-96 overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modalTitle" class="text-xl font-bold text-gray-800 pr-4"></h3>
                <button id="closeModal" class="text-gray-500 hover:text-gray-700 text-2xl flex-shrink-0">&times;</button>
            </div>
            <div id="modalContent" class="text-gray-600 mb-4 leading-relaxed"></div>
            
            <!-- Mini Challenge Section -->
            <div id="challengeSection" class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg mb-4" style="display: none;">
                <h4 class="font-semibold text-yellow-800 mb-2">üéØ Mini-Desafio:</h4>
                <p id="challengeText" class="text-yellow-700 text-sm mb-3"></p>
                <button id="completeChallenge" class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm font-semibold">
                    ‚úÖ Completei o Desafio! (+50 pontos)
                </button>
            </div>

            <!-- Real Case Section -->
            <div id="realCaseSection" class="bg-green-50 border-l-4 border-green-400 p-4 rounded-lg mb-4" style="display: none;">
                <h4 class="font-semibold text-green-800 mb-2">üìö Caso Real:</h4>
                <p id="realCaseText" class="text-green-700 text-sm"></p>
            </div>
            
            <div class="bg-blue-50 p-4 rounded-lg mb-4">
                <h4 class="font-semibold text-blue-800 mb-2">üí° Dica para sua equipe:</h4>
                <p id="modalTip" class="text-blue-700 text-sm leading-relaxed whitespace-pre-wrap"></p>
            </div>
            <button id="continueGame" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-semibold">
                Continuar Jogo
            </button>
        </div>
    </div>

    <script>
        class LudoCaptacao {
            constructor() {
                this.currentPosition = 0;
                this.totalSteps = 12;
                this.visitedSteps = new Set([0]); // Track visited steps, start with step 0
                this.diceSequence = 1; // Sequential dice counter
                this.totalScore = 0;
                this.badges = new Set();
                this.challengesCompleted = 0;
                this.completedChallenges = new Set();
                this.wildCardQuestions = [
                    "ü§î Voc√™s est√£o realmente ouvindo o que os doadores precisam?",
                    "üí≠ A equipe est√° preparada para adaptar a estrat√©gia quando necess√°rio?",
                    "üéØ Voc√™s conhecem bem o perfil dos seus doadores atuais?",
                    "üìä A organiza√ß√£o tem dados suficientes para tomar decis√µes?",
                    "ü§ù A equipe est√° alinhada com os objetivos de capta√ß√£o?",
                    "üí° Voc√™s est√£o sendo criativos o suficiente nas estrat√©gias?",
                    "üîç A an√°lise do cen√°rio externo est√° sendo feita regularmente?",
                    "‚öñÔ∏è H√° equil√≠brio entre diferentes fontes de capta√ß√£o?",
                    "üìà Os resultados est√£o sendo medidos e acompanhados?",
                    "üé™ A apresenta√ß√£o da ONG √© envolvente e emociona?",
                    "üí∞ Voc√™ tem um plano or√ßament√°rio elaborado? N√£o? Ent√£o pense no quanto voc√™ precisa, √© importante ser estrat√©gico, e n√£o agir no impulso. Lembre-se: capta√ß√£o √© processo.",
                    "üé® Voc√™s t√™m materiais de comunica√ß√£o profissionais e atualizados?",
                    "üì± A presen√ßa digital da organiza√ß√£o reflete sua miss√£o de forma clara?",
                    "ü§ù Voc√™s cultivam relacionamentos de longo prazo com os doadores?",
                    "üìã A equipe documenta e compartilha as li√ß√µes aprendidas?",
                    "üéØ Os projetos t√™m objetivos claros e resultados mensur√°veis?",
                    "üí¨ Voc√™s sabem contar hist√≥rias que tocam o cora√ß√£o dos doadores?",
                    "üîÑ A organiza√ß√£o tem processos claros para capta√ß√£o de recursos?",
                    "üìû Voc√™s fazem follow-up adequado com potenciais doadores?",
                    "üèÜ A equipe celebra as conquistas e aprende com os desafios?",
                    "üìù Voc√™s t√™m um banco de dados organizado de contatos?",
                    "üé™ A causa da organiza√ß√£o √© apresentada de forma inspiradora?",
                    "üíº A equipe est√° capacitada para fazer apresenta√ß√µes profissionais?",
                    "üåü Voc√™s destacam o impacto real que os recursos geram?",
                    "ü§î A organiza√ß√£o tem credibilidade e transpar√™ncia comprovadas?"
                ]
                
                this.miniChallenges = {
                    1: "Crie um elevator pitch de 30 segundos para sua ONG que emocione e conecte!",
                    2: "Liste 3 pontos fortes e 3 pontos fracos da sua organiza√ß√£o na capta√ß√£o",
                    3: "Pesquise e anote 2 estrat√©gias de capta√ß√£o de ONGs similares √† sua",
                    4: "Identifique 3 fatores externos que podem impactar sua capta√ß√£o este ano",
                    5: "Preencha uma matriz FOFA completa para sua organiza√ß√£o",
                    6: "Defina 1 objetivo SMART para sua pr√≥xima campanha de capta√ß√£o",
                    7: "Estabele√ßa uma meta num√©rica realista para os pr√≥ximos 6 meses",
                    8: "Identifique 5 potenciais fontes de capta√ß√£o para sua causa",
                    9: "Escolha 3 estrat√©gias que mais combinam com seu p√∫blico-alvo",
                    10: "Crie um cronograma de 30 dias com respons√°veis e prazos",
                    11: "Defina 3 indicadores para medir o sucesso da sua capta√ß√£o"
                };

                this.realCases = {
                    1: "A Funda√ß√£o SOS Mata Atl√¢ntica criou um pitch emocional mostrando o impacto direto: 'Cada R$ 50 protege 1 hectare de floresta por 1 ano'. Resultado: 300% mais doa√ß√µes.",
                    2: "O Instituto Ayrton Senna descobriu que sua for√ßa era a credibilidade da marca, mas sua fraqueza era comunica√ß√£o digital. Investiram em redes sociais e aumentaram capta√ß√£o em 150%.",
                    3: "A APAE Nacional estudou estrat√©gias internacionais e adaptou o modelo de 'apadrinhamento' dos EUA, criando o programa 'Adote um Sorriso'.",
                    4: "Durante a pandemia, a Cufa identificou o cen√°rio de crise como oportunidade e criou campanhas emergenciais, captando R$ 50 milh√µes em 2020.",
                    5: "O Greenpeace Brasil usa an√°lise FOFA anualmente: transformou a 'amea√ßa' das fake news em 'oportunidade' criando campanhas de fact-checking.",
                    6: "A M√©dicos Sem Fronteiras definiu objetivo SMART: 'Captar R$ 2 milh√µes em 6 meses para atender 10.000 refugiados'. Resultado: superaram em 20%.",
                    7: "O Instituto Ronald McDonald estabeleceu meta de aumentar doa√ß√µes recorrentes em 40% e criou programa de fideliza√ß√£o que superou a meta.",
                    8: "A Pastoral da Crian√ßa diversificou fontes: 30% pessoas f√≠sicas, 25% empresas, 25% governo, 20% internacional. Reduziu riscos e aumentou estabilidade.",
                    9: "A AACD descobriu que eventos presenciais geravam mais engajamento que digitais para seu p√∫blico 50+, focando nessa estrat√©gia.",
                    10: "O Instituto Alana criou cronograma detalhado para campanha de fim de ano: 60 dias de planejamento resultaram em recorde de arrecada√ß√£o.",
                    11: "A Funda√ß√£o Abrinq acompanha mensalmente: taxa de convers√£o, ticket m√©dio, reten√ß√£o de doadores. Ajustes constantes aumentaram efici√™ncia em 80%."
                };

                this.badgeDefinitions = {
                    'first_step': { emoji: 'üöÄ', name: 'Primeiro Passo', description: 'Come√ßou a jornada!' },
                    'challenger': { emoji: 'üéØ', name: 'Desafiador', description: 'Completou primeiro desafio' },
                    'strategist': { emoji: 'üß†', name: 'Estrategista', description: 'Dominou an√°lise FOFA' },
                    'networker': { emoji: 'ü§ù', name: 'Networker', description: 'Identificou m√∫ltiplas fontes' },
                    'planner': { emoji: 'üìã', name: 'Planejador', description: 'Criou plano operacional' },
                    'achiever': { emoji: 'üèÜ', name: 'Conquistador', description: 'Completou 5 desafios' },
                    'expert': { emoji: '‚≠ê', name: 'Especialista', description: 'Chegou ao final!' },
                    'wildcard_master': { emoji: 'üÉè', name: 'Mestre dos Coringas', description: 'Respondeu 3 coringas' },
                    'perfectionist': { emoji: 'üíé', name: 'Perfeccionista', description: 'Completou todos os desafios' }
                };

                this.stepDetails = {
                    0: {
                        title: "üèÅ START - Onde tudo come√ßa!",
                        content: "Bem-vindos ao Ludo da Capta√ß√£o! Aqui voc√™s v√£o aprender de forma divertida todos os passos para uma capta√ß√£o de recursos eficiente.",
                        tip: "Re√∫na sua equipe e preparem-se para uma jornada de aprendizado gamificada!"
                    },
                    1: {
                        title: "1Ô∏è‚É£ APRESENTA√á√ÉO DA ONG",
                        content: "Como contar nossa hist√≥ria e nossa miss√£o de forma envolvente?",
                        tip: "Criem um elevator pitch de 30 segundos que emocione e conecte com o doador!"
                    },
                    2: {
                        title: "2Ô∏è‚É£ DIAGN√ìSTICO INTERNO",
                        content: "Quais s√£o nossos pontos fortes e fracos na capta√ß√£o?",
                        tip: "Fa√ßam uma an√°lise honesta: o que voc√™s fazem bem e onde precisam melhorar?"
                    },
                    3: {
                        title: "3Ô∏è‚É£ BENCHMARKING",
                        content: "O que outras organiza√ß√µes est√£o fazendo que pode nos inspirar?",
                        tip: "Pesquisem 3 ONGs similares e identifiquem suas melhores pr√°ticas de capta√ß√£o!"
                    },
                    4: {
                        title: "4Ô∏è‚É£ AN√ÅLISE DO CEN√ÅRIO EXTERNO",
                        content: "Quais fatores externos impactam nossa capta√ß√£o?",
                        tip: "Considerem economia, pol√≠tica, tend√™ncias sociais e tecnol√≥gicas do momento!"
                    },
                    5: {
                        title: "5Ô∏è‚É£ AN√ÅLISE FOFA",
                        content: "Hora de cruzar tudo: For√ßas, Oportunidades, Fragilidades, Amea√ßas",
                        tip: "Usem uma matriz FOFA para visualizar claramente o contexto da organiza√ß√£o!"
                    },
                    6: {
                        title: "6Ô∏è‚É£ OBJETIVOS DO PLANO",
                        content: "Por que e para que vamos captar recursos?",
                        tip: "Definam objetivos SMART: Espec√≠ficos, Mensur√°veis, Ating√≠veis, Relevantes, Temporais!"
                    },
                    7: {
                        title: "7Ô∏è‚É£ METAS DE CAPTA√á√ÉO",
                        content: "Defina n√∫meros concretos: Ex: aumentar em +20%!",
                        tip: "Sejam ambiciosos mas realistas. Baseiem as metas no hist√≥rico e capacidade atual!"
                    },
                    8: {
                        title: "8Ô∏è‚É£ FONTES DE CAPTA√á√ÉO",
                        content: "Pessoa F√≠sica, Jur√≠dica, Governo ou Internacional?",
                        tip: "Diversifiquem as fontes para reduzir riscos. N√£o dependam de uma √∫nica fonte!"
                    },
                    9: {
                        title: "9Ô∏è‚É£ ESTRAT√âGIAS DE CAPTA√á√ÉO",
                        content: "Eventos, editais, campanhas, relacionamento... bora planejar!",
                        tip: "Escolham estrat√©gias que combinem com o perfil da organiza√ß√£o e do p√∫blico-alvo!"
                    },
                    10: {
                        title: "üîü PLANO OPERACIONAL",
                        content: "Quem faz o qu√™, quando e como?",
                        tip: "Criem um cronograma detalhado com respons√°veis, prazos e recursos necess√°rios!"
                    },
                    11: {
                        title: "1Ô∏è‚É£1Ô∏è‚É£ ACOMPANHAMENTO E AVALIA√á√ÉO",
                        content: "Como saber se estamos no caminho certo?",
                        tip: "Definam indicadores de sucesso e fa√ßam reuni√µes regulares de acompanhamento!"
                    },
                    12: {
                        title: "üèÜ RECURSO CAPTADO!",
                        content: "Parab√©ns! Voc√™s dominaram todo o processo de capta√ß√£o de recursos!",
                        tip: "Agora √© hora de colocar em pr√°tica tudo que aprenderam. Sucesso na capta√ß√£o!"
                    }
                };
                
                this.initializeGame();
            }

            initializeGame() {
                this.updatePlayerPosition();
                this.updateProgress();
                this.updateScoreDisplay();
                this.updateBadgesDisplay();
                
                document.getElementById('rollDice').addEventListener('click', () => this.rollDice());
                document.getElementById('resetGame').addEventListener('click', () => this.resetGame());
                document.getElementById('closeModal').addEventListener('click', () => this.closeModal());
                document.getElementById('continueGame').addEventListener('click', () => this.closeModal());
                document.getElementById('completeChallenge').addEventListener('click', () => this.completeChallenge());
                
                // Add click listeners to step cards
                document.querySelectorAll('.step-card').forEach(card => {
                    card.addEventListener('click', () => {
                        const step = parseInt(card.dataset.step);
                        if (step <= this.currentPosition) {
                            this.showStepDetails(step);
                        }
                    });
                });
            }

            rollDice() {
                const diceElement = document.getElementById('diceResult');
                
                diceElement.textContent = 'üé≤';
                diceElement.classList.add('dice');
                
                setTimeout(() => {
                    // 20% chance of wild card (coringa)
                    const isWildCard = Math.random() < 0.2;
                    
                    if (isWildCard) {
                        diceElement.textContent = 'üÉè';
                        diceElement.classList.remove('dice');
                        this.showWildCard();
                    } else {
                        // Sequential dice: 1, 2, 3, 4, 5, 6, then repeat
                        const dice = this.diceSequence;
                        this.diceSequence = this.diceSequence >= 6 ? 1 : this.diceSequence + 1;
                        
                        diceElement.textContent = dice;
                        diceElement.classList.remove('dice');
                        this.movePlayer(dice);
                    }
                }, 500);
            }

            movePlayer(steps) {
                // Move one step at a time sequentially
                let newPosition = this.currentPosition + 1;
                
                // Don't go beyond the total steps
                if (newPosition > this.totalSteps) {
                    newPosition = this.totalSteps;
                }
                
                // If trying to reach the final step (12), check if all steps 1-11 have been visited
                if (newPosition === this.totalSteps && !this.allStepsVisited()) {
                    // Don't move to final step yet
                    return;
                }
                
                this.currentPosition = newPosition;
                this.markStepAsVisited(newPosition);
                this.updatePlayerPosition();
                this.updateProgress();
                
                setTimeout(() => {
                    this.showStepDetails(this.currentPosition);
                }, 300);
            }

            updatePlayerPosition() {
                // Hide all player pieces
                document.querySelectorAll('.player-piece').forEach(piece => {
                    piece.style.display = 'none';
                });
                
                // Show current position
                const currentCard = document.querySelector(`[data-step="${this.currentPosition}"]`);
                if (currentCard) {
                    const playerPiece = currentCard.querySelector('.player-piece');
                    if (playerPiece) {
                        playerPiece.style.display = 'block';
                    }
                    
                    // Update active state
                    document.querySelectorAll('.step-card').forEach(card => {
                        card.classList.remove('active');
                    });
                    currentCard.classList.add('active');
                }
                
                // Update position text
                const positionNames = ['START', 'Apresenta√ß√£o', 'Diagn√≥stico', 'Benchmarking', 'Cen√°rio Externo', 
                                    'An√°lise FOFA', 'Objetivos', 'Metas', 'Fontes', 'Estrat√©gias', 
                                    'Plano Operacional', 'Acompanhamento', 'RECURSO CAPTADO!'];
                document.getElementById('currentPosition').textContent = positionNames[this.currentPosition];
            }

            updateProgress() {
                const progress = (this.currentPosition / this.totalSteps) * 100;
                document.getElementById('progressBar').style.width = `${progress}%`;
            }

            showStepDetails(step) {
                const details = this.stepDetails[step];
                if (details) {
                    document.getElementById('modalTitle').textContent = details.title;
                    document.getElementById('modalContent').textContent = details.content;
                    document.getElementById('modalTip').textContent = details.tip;
                    
                    // Show mini-challenge if available and not completed
                    const challengeSection = document.getElementById('challengeSection');
                    const realCaseSection = document.getElementById('realCaseSection');
                    
                    if (step > 0 && step <= 11 && !this.completedChallenges.has(step)) {
                        document.getElementById('challengeText').textContent = this.miniChallenges[step];
                        challengeSection.style.display = 'block';
                        challengeSection.dataset.step = step;
                    } else {
                        challengeSection.style.display = 'none';
                    }
                    
                    // Show real case if available
                    if (step > 0 && step <= 11 && this.realCases[step]) {
                        document.getElementById('realCaseText').textContent = this.realCases[step];
                        realCaseSection.style.display = 'block';
                    } else {
                        realCaseSection.style.display = 'none';
                    }
                    
                    document.getElementById('stepModal').classList.remove('hidden');
                    document.getElementById('stepModal').classList.add('flex');
                    
                    // Award points for visiting step
                    if (step > 0 && !this.visitedSteps.has(step)) {
                        this.addScore(20, `Visitou: ${details.title}`);
                    }
                }
            }

            completeChallenge() {
                const challengeSection = document.getElementById('challengeSection');
                const step = parseInt(challengeSection.dataset.step);
                
                if (step && !this.completedChallenges.has(step)) {
                    this.completedChallenges.add(step);
                    this.challengesCompleted++;
                    this.addScore(50, 'Desafio Completado!');
                    
                    // Check for badges
                    this.checkBadges();
                    
                    // Hide challenge section
                    challengeSection.style.display = 'none';
                    
                    // Update display
                    this.updateScoreDisplay();
                }
            }

            addScore(points, reason) {
                this.totalScore += points;
                this.showScoreAnimation(points, reason);
                this.updateScoreDisplay();
            }

            showScoreAnimation(points, reason) {
                // Create floating score animation
                const scoreElement = document.createElement('div');
                scoreElement.textContent = `+${points}`;
                scoreElement.className = 'fixed text-2xl font-bold text-green-500 z-50 pointer-events-none';
                scoreElement.style.left = '50%';
                scoreElement.style.top = '30%';
                scoreElement.style.transform = 'translate(-50%, -50%)';
                scoreElement.style.animation = 'float-up 2s ease-out forwards';
                
                document.body.appendChild(scoreElement);
                
                setTimeout(() => {
                    document.body.removeChild(scoreElement);
                }, 2000);
            }

            checkBadges() {
                const newBadges = [];
                
                // First step badge
                if (this.currentPosition >= 1 && !this.badges.has('first_step')) {
                    newBadges.push('first_step');
                }
                
                // Challenger badge
                if (this.challengesCompleted >= 1 && !this.badges.has('challenger')) {
                    newBadges.push('challenger');
                }
                
                // Strategist badge (FOFA step)
                if (this.visitedSteps.has(5) && !this.badges.has('strategist')) {
                    newBadges.push('strategist');
                }
                
                // Networker badge (Sources step)
                if (this.visitedSteps.has(8) && !this.badges.has('networker')) {
                    newBadges.push('networker');
                }
                
                // Planner badge (Operational plan step)
                if (this.visitedSteps.has(10) && !this.badges.has('planner')) {
                    newBadges.push('planner');
                }
                
                // Achiever badge
                if (this.challengesCompleted >= 5 && !this.badges.has('achiever')) {
                    newBadges.push('achiever');
                }
                
                // Expert badge
                if (this.currentPosition >= 12 && !this.badges.has('expert')) {
                    newBadges.push('expert');
                }
                
                // Perfectionist badge
                if (this.challengesCompleted >= 11 && !this.badges.has('perfectionist')) {
                    newBadges.push('perfectionist');
                }
                
                // Award new badges
                newBadges.forEach(badgeId => {
                    this.awardBadge(badgeId);
                });
            }

            awardBadge(badgeId) {
                this.badges.add(badgeId);
                const badge = this.badgeDefinitions[badgeId];
                
                // Show badge animation
                const latestBadge = document.getElementById('latestBadge');
                latestBadge.textContent = badge.emoji;
                latestBadge.style.opacity = '1';
                
                setTimeout(() => {
                    latestBadge.style.opacity = '0';
                }, 3000);
                
                // Add to badges container
                this.updateBadgesDisplay();
                
                // Award bonus points
                this.addScore(100, `Badge: ${badge.name}`);
            }

            updateScoreDisplay() {
                document.getElementById('totalScore').textContent = this.totalScore;
                document.getElementById('badgeCount').textContent = this.badges.size;
                document.getElementById('challengesCompleted').textContent = this.challengesCompleted;
            }

            updateBadgesDisplay() {
                const container = document.getElementById('badgesContainer');
                container.innerHTML = '';
                
                this.badges.forEach(badgeId => {
                    const badge = this.badgeDefinitions[badgeId];
                    const badgeElement = document.createElement('div');
                    badgeElement.className = 'bg-white rounded-full px-3 py-1 text-sm border-2 border-purple-200 flex items-center gap-1';
                    badgeElement.innerHTML = `<span>${badge.emoji}</span><span class="text-xs">${badge.name}</span>`;
                    badgeElement.title = badge.description;
                    container.appendChild(badgeElement);
                });
            }

            closeModal() {
                document.getElementById('stepModal').classList.add('hidden');
                document.getElementById('stepModal').classList.remove('flex');
            }

            markStepAsVisited(step) {
                this.visitedSteps.add(step);
            }

            allStepsVisited() {
                // Check if all steps from 1 to 11 have been visited
                for (let i = 1; i <= 11; i++) {
                    if (!this.visitedSteps.has(i)) {
                        return false;
                    }
                }
                return true;
            }

            showWildCard() {
                const randomQuestion = this.wildCardQuestions[Math.floor(Math.random() * this.wildCardQuestions.length)];
                
                // Award points for wild card
                this.addScore(30, 'Carta Coringa!');
                
                // Check for wildcard master badge
                this.wildCardCount = (this.wildCardCount || 0) + 1;
                if (this.wildCardCount >= 3 && !this.badges.has('wildcard_master')) {
                    this.awardBadge('wildcard_master');
                }
                
                // Show wild card modal
                document.getElementById('modalTitle').textContent = "üÉè CORINGA - MOMENTO DE REFLEX√ÉO";
                document.getElementById('modalContent').textContent = "Pausa para reflex√£o estrat√©gica!";
                document.getElementById('modalTip').textContent = randomQuestion;
                
                // Hide challenge and case sections for wildcards
                document.getElementById('challengeSection').style.display = 'none';
                document.getElementById('realCaseSection').style.display = 'none';
                
                document.getElementById('stepModal').classList.remove('hidden');
                document.getElementById('stepModal').classList.add('flex');
            }

            resetGame() {
                this.currentPosition = 0;
                this.visitedSteps = new Set([0]); // Reset visited steps
                this.diceSequence = 1; // Reset dice sequence
                this.totalScore = 0;
                this.badges = new Set();
                this.challengesCompleted = 0;
                this.completedChallenges = new Set();
                this.updatePlayerPosition();
                this.updateProgress();
                this.updateScoreDisplay();
                this.updateBadgesDisplay();
                document.getElementById('diceResult').textContent = '';
            }
        }

        // Initialize the game when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new LudoCaptacao();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'963761bba6cff622',t:'MTc1MzIzMzkwNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
